<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Root Finder</title>
</head>
<body>
    <h1>Root Finder (by me)</h1>

    <p>Welcome, {{ username }} â€” go do math!</p>

    <form action="/solve" method="GET">
        <label for="expression">Enter an expression:</label><br>
        <input type="text" name="expression" id="expression" placeholder="e.g., x**3 - x" required><br><br>
        <button type="submit">Find Roots</button>
    </form>

    <hr>

    {% if can_create_users %}
    <h2>Register New Guest</h2>
    <form action="/register" method="POST">
        <label for="username">Username:</label><br>
        <input type="text" name="username" required><br><br>

        <label for="password">Password:</label><br>
        <input type="password" name="password" required><br><br>

        <!-- Assign guest role -->
        <input type="hidden" name="roles" value="guest">
        <button type="submit">Register</button>
    </form>
    <hr>
    {% endif %}

    {% if can_create_admins %}
    <h2>Create New Admin</h2>
    <form action="/create-admin" method="POST">
        <label for="username">Admin Username:</label><br>
        <input type="text" name="username" required><br><br>

        <label for="password">Admin Password:</label><br>
        <input type="password" name="password" required><br><br>

        <button type="submit">Create Admin</button>
    </form>
    <hr>
    {% endif %}

    <a href="/debug-sentry">Trigger Sentry Test Error</a>
</body>
</html>
